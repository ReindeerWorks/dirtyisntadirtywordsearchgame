<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Different Isn’t a Dirty Word – Word Search</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f7f7ff;
      padding: 16px;
      margin: 0;
    }
    h1 {
      text-align: center;
      font-size: 1.4rem;
      margin-bottom: 0.5rem;
    }
    p {
      text-align: center;
      font-size: 0.9rem;
      margin-top: 0;
      margin-bottom: 1rem;
    }
    .wordsearch-container {
      display: flex;
      gap: 24px;
      justify-content: center;
      align-items: flex-start;
      flex-wrap: wrap;
      max-width: 900px;
      margin: 0 auto;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(10, minmax(32px, 38px));
      grid-template-rows: repeat(10, minmax(32px, 38px));
      gap: 3px;
      user-select: none;
      touch-action: manipulation;
    }
    .cell {
      border: 1px solid #999;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      cursor: pointer;
      background: #ffffff;
      border-radius: 4px;
    }
    .cell.selected {
      background: #c5d5ff;
    }
    .cell.found {
      background: #88d498;
      color: #000;
      font-weight: bold;
    }
    .sidebar {
      max-width: 230px;
      font-size: 0.9rem;
    }
    .word-list h2 {
      margin-top: 0;
      font-size: 1rem;
    }
    .word-list ul {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    .word-list li {
      padding: 3px 0;
    }
    .word-list li.found {
      text-decoration: line-through;
      color: #777;
    }
    .hint {
      font-size: 0.8rem;
      color: #666;
      margin-top: 0.5rem;
    }
    @media (max-width: 600px) {
      .wordsearch-container {
        flex-direction: column;
        align-items: center;
      }
      .sidebar {
        max-width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <h1>Different Isn’t a Dirty Word – Word Search</h1>
  <p>
    Tap the <strong>first</strong> letter of a word, then tap the <strong>last</strong> letter
    to highlight it. Words only go left-to-right or top-to-bottom.
  </p>

  <div class="wordsearch-container">
    <div id="grid" class="grid"></div>
    <div class="sidebar">
      <div class="word-list">
        <h2>Word List</h2>
        <ul id="wordList"></ul>
      </div>
      <p class="hint">
        Find all the words from Neeko, Zara, and Max’s story!
      </p>
    </div>
  </div>

  <script>
    // Final 10-word list
    const words = [
      "NEEKO",
      "ZARA",
      "MAX",
      "FRIENDS",
      "DIFFERENT",
      "UNIQUE",
      "BRAVE",
      "SMILE",
      "WINGS",
      "HOP"
    ];

    // 10x10 grid (only horizontal & vertical word placements)
    const gridData = [
      ["F","A","F","R","I","E","N","D","S","Z"],
      ["H","O","P","H","F","D","Z","P","W","N"],
      ["M","M","H","A","Y","I","H","Z","I","E"],
      ["M","B","T","M","U","F","N","A","N","E"],
      ["D","S","B","D","N","F","N","R","G","K"],
      ["H","M","R","I","I","E","V","A","S","O"],
      ["X","I","A","O","Q","R","T","O","T","I"],
      ["L","L","V","D","U","E","U","K","I","L"],
      ["L","E","E","R","E","N","Z","I","Y","H"],
      ["M","A","X","G","U","T","Y","Q","B","Y"]
    ];

    const numRows = gridData.length;
    const numCols = gridData[0].length;

    const gridEl = document.getElementById("grid");
    const wordListEl = document.getElementById("wordList");

    const wordState = {};
    words.forEach(w => (wordState[w] = false));

    // Render word list
    words.forEach(w => {
      const li = document.createElement("li");
      li.textContent = w;
      li.id = "word-" + w;
      wordListEl.appendChild(li);
    });

    // Render grid
    const cells = [];
    for (let r = 0; r < numRows; r++) {
      cells[r] = [];
      for (let c = 0; c < numCols; c++) {
        const cell = document.createElement("div");
        cell.className = "cell";
        cell.textContent = gridData[r][c];
        cell.dataset.row = r;
        cell.dataset.col = c;
        gridEl.appendChild(cell);
        cells[r][c] = cell;
      }
    }

    let startCell = null;

    function clearTempSelection() {
      gridEl.querySelectorAll(".cell.selected").forEach(el => {
        el.classList.remove("selected");
      });
    }

    function handleCellTap(cell) {
      const r = parseInt(cell.dataset.row, 10);
      const c = parseInt(cell.dataset.col, 10);

      if (!startCell) {
        startCell = { r, c };
        clearTempSelection();
        cell.classList.add("selected");
        return;
      } else {
        const endCell = { r, c };
        const dr = endCell.r - startCell.r;
        const dc = endCell.c - startCell.c;

        // Only allow horizontal or vertical
        if (!(dr === 0 || dc === 0)) {
          clearTempSelection();
          startCell = null;
          return;
        }

        const stepR = dr === 0 ? 0 : dr / Math.abs(dr);
        const stepC = dc === 0 ? 0 : dc / Math.abs(dc);

        const path = [];
        let curR = startCell.r;
        let curC = startCell.c;
        path.push({ r: curR, c: curC });

        while (curR !== endCell.r || curC !== endCell.c) {
          curR += stepR;
          curC += stepC;
          if (curR < 0 || curR >= numRows || curC < 0 || curC >= numCols) break;
          path.push({ r: curR, c: curC });
        }

        const letters = path.map(pos => gridData[pos.r][pos.c]).join("");
        const reversed = letters.split("").reverse().join("");

        let foundWord = null;
        if (words.includes(letters)) {
          foundWord = letters;
        } else if (words.includes(reversed)) {
          foundWord = reversed;
        }

        if (foundWord && !wordState[foundWord]) {
          wordState[foundWord] = true;
          path.forEach(pos => {
            cells[pos.r][pos.c].classList.remove("selected");
            cells[pos.r][pos.c].classList.add("found");
          });
          const li = document.getElementById("word-" + foundWord);
          if (li) li.classList.add("found");
        } else {
          clearTempSelection();
        }

        startCell = null;
      }
    }

    gridEl.addEventListener("click", e => {
      if (!e.target.classList.contains("cell")) return;
      handleCellTap(e.target);
    });
  </script>
</body>
</html>
